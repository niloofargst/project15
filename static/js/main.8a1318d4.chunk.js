(this["webpackJsonpreact-simple-weather-app"]=this["webpackJsonpreact-simple-weather-app"]||[]).push([[0],{46:function(e,t,a){},65:function(e,t,a){e.exports=a(76)},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),i=(a(46),a(53)),l=a(21),u=a(114),s=a(125),m=a(126),f=a(120),d=a(128),p=a(127),g=a(52),h=a.n(g),E=a(121),v=a(124),w=a(123),b=a(122),y=a(129),x=Object(u.a)((function(){return{card:{fontSize:"2rem"}}}));var S=function(e){var t=e.onUpdate,a=x();return r.a.createElement(y.a,{autoFocus:!0,label:"Enter location",onBlur:function(e){return t(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&t(e.target.value)},className:a.card})},N=a(25),j=a.n(N),O=a(38),D=a(132),F=a(131),k=a(119),z=a(51),C=a.n(z),I=a(49),L=a.n(I),M=function(){var e=Object(O.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=79facecec184203c56318b2c97086b18&units=metric"));case 3:if(200!==(a=e.sent).status){e.next=9;break}return e.next=7,a.json();case 7:return e.t0=e.sent,e.abrupt("return",{success:!0,data:e.t0});case 9:return e.abrupt("return",{success:!1,error:a.statusText});case 12:return e.prev=12,e.t1=e.catch(0),e.abrupt("return",{success:!1,error:e.t1.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),T=Object(u.a)((function(e){return{headerLine:{display:"flex",alignItems:"center"},location:{flex:1,fontSize:"2rem",fontWeight:"bold",color:"#FFD700"},detailLine:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1rem"},description:{flex:1,fontSize:"1rem"},largeAvatar:{width:e.spacing(7),height:e.spacing(7)}}}));function B(e){return e.isLoading?r.a.createElement(k.a,null):null}function J(e){var t=e.apiError;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{color:"error"}),r.a.createElement(f.a,{color:"error",variant:"h6"},t)):null}function U(e){var t=e.weatherData,a=T(),n=r.a.useMemo((function(){var e=t.weather||[],a=Object(l.a)(e,1)[0];return{temp:t.main&&t.main.temp?Math.round(t.main.temp).toString():"",description:a?a.description:"",icon:a?"http://openweathermap.org/img/wn/".concat(a.icon,"@2x.png"):"",windTransform:t.wind?t.wind.deg-90:null,windSpeed:t.wind?Math.round(t.wind.speed):0}}),[t]),c=n.temp,o=n.description,i=n.icon,u=n.windTransform,s=n.windSpeed;return r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(f.a,{variant:"h6"},c,"\xb0C"),i&&r.a.createElement(F.a,{title:o,"aria-label":o},r.a.createElement(D.a,{className:a.largeAvatar,alt:o,src:i})),s>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{variant:"h6"},"".concat(s," km/h")),null!==u&&r.a.createElement(C.a,{style:{transform:"rotateZ(".concat(u,"deg)")}})))}var A=function(e){var t=e.location,a=T(),n=r.a.useState({}),c=Object(l.a)(n,2),o=c[0],i=c[1],u=r.a.useState(""),s=Object(l.a)(u,2),m=s[0],d=s[1],p=r.a.useState(!1),g=Object(l.a)(p,2),h=g[0],E=g[1];r.a.useEffect((function(){var e=setTimeout((function(){return E(!0)}),500);return function(){var a=Object(O.a)(j.a.mark((function a(){var n;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,M(t);case 2:n=a.sent,clearTimeout(e),E(!1),i(n.success?n.data:{}),d(n.success?"":n.error);case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()(),function(){return clearTimeout(e)}}),[t]);var v=r.a.useMemo((function(){return{flagIcon:o.sys?"http://www.geognos.com/api/en/countries/flag/".concat(o.sys.country,".png"):"",countryCode:o.sys?o.sys.country:""}}),[o]),w=v.flagIcon,b=v.countryCode;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.headerLine},r.a.createElement(f.a,{className:a.location,variant:"h5"},t),w&&r.a.createElement("img",{alt:b,src:w,width:"26",height:"22"})),r.a.createElement("div",{className:a.detailLine},r.a.createElement(B,{isLoading:h}),r.a.createElement(J,{apiError:m}),r.a.createElement(U,{weatherData:o})))},G=Object(u.a)((function(){return{root:{display:"flex",flexDirection:"column",fontSize:"1rem"},content:{flex:1,fontSize:"1rem"},btn:{fontSize:"1.5rem",color:"red"}}}));var W=function(e){var t=e.location,a=e.canDelete,n=e.onDelete,c=e.onUpdate,o=G();return r.a.createElement(E.a,{className:o.root,variant:"outlined"},r.a.createElement(b.a,{className:o.content},!t&&r.a.createElement(S,{onUpdate:c}),t&&r.a.createElement(A,{location:t})),r.a.createElement(w.a,null,r.a.createElement(v.a,{className:o.btn,disabled:!a,onClick:n,fontSize:"medium",color:"#FFD700"},"Remove")))},q=Object(u.a)((function(){return{root:{flexGrow:1,display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden"},containerGrid:{flex:1,overflowY:"auto",padding:"2em"},addButton:{position:"absolute",margin:"1em",right:0,backgroundColor:"#FFD700",bottom:0},ww:{backgroundColor:"#FFD700"},wwp:{color:"white",fontSize:"3rem",fontWeight:"bold"}}}));var K=function(){var e=q(),t=r.a.useState(function(){var e=localStorage.getItem("locations");return e?JSON.parse(e):[]}()),a=Object(l.a)(t,2),n=a[0],c=a[1],o=function(e){c(e),function(e){localStorage.setItem("locations",JSON.stringify(e))}(e)},u=function(e){return function(){return o(n.filter((function(t,a){return a!==e})))}},g=function(e){return function(t){return o(n.map((function(a,n){return n===e?t:a})))}},E=r.a.useMemo((function(){return n.every((function(e){return""!==e}))}),[n]);return r.a.createElement("div",{className:e.root},r.a.createElement(s.a,{position:"static"},r.a.createElement(m.a,{className:e.ww},r.a.createElement(f.a,{variant:"h6",className:e.wwp},"Weather App \u26c5\ufe0f"))),r.a.createElement(p.a,{container:!0,spacing:3,className:e.containerGrid},n.map((function(e,t){return r.a.createElement(p.a,{key:t,xs:12,sm:6,md:4,lg:3,item:!0},r.a.createElement(W,{location:e,canDelete:!e||E,onDelete:u(t),onUpdate:g(t)}))}))),r.a.createElement(d.a,{onClick:function(){return c([].concat(Object(i.a)(n),[""]))},"aria-label":"add weather location",className:e.addButton,color:"secondary",disabled:!E},r.a.createElement(h.a,null)))};var R=function(){return r.a.createElement("div",null,r.a.createElement(K,null))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.8a1318d4.chunk.js.map